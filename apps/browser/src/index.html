<head>
    <title>Test</title>

    <style>
        .main-app-content-browser {
            height: 100%;
        }

        .browser-open-pages {
            height: 2em;
            width: 100%;
            background-color: rgb(29, 29, 29);
            display: flex;
            align-items: center;
        }

        .browser-search-bar {
            height: 2em;
            width: 100%;
            background-color: rgb(41, 41, 41);
            position: relative;
        }

        .browser-search-query {
            margin: auto auto;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            position: absolute;
            width: 60%;
            background-color: rgb(20, 20, 20);
            border: none;
            border-radius: 3px;
            height: 60%;
            color: white;
        }

        .browser-main-content {
            position: absolute;
            height: 87%;
            width: 100%;
            bottom: 0;
        }

        .browser-main-content iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .add-tab-btn {
            margin: 0;
            color: white;
            display: inline-block;
            font-size: 1.4em;
        }

        .browser-tab {
            background-color: rgb(41, 41, 41);
            border-radius: 5px 5px 0px 0px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-around;
            color: white;
            width: 6em;
        }
    </style>
</head>

<body>
    <div>
        <div id="browser-open-pages" class="browser-open-pages">
            <p class="add-tab-btn" onclick="openPage()">+</p>
        </div>
        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkwcHgiIGhlaWdodD0iMTkwcHgiIHZpZXdCb3g9IjAgMCAxOTAgMTkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIj48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSIyOC4zIiB4Mj0iODAuOCIgeTE9Ijc1IiB5Mj0iNDQuNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2E1MjcxNCIgc3RvcC1vcGFjaXR5PSIuNiIvPjxzdG9wIG9mZnNldD0iLjciIHN0b3AtY29sb3I9IiNhNTI3MTQiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJmIiB4MT0iMTA5LjkiIHgyPSI1MS41IiB5MT0iMTY0LjUiIHkyPSIxMzAuMyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA1NTUyNCIgc3RvcC1vcGFjaXR5PSIuNCIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiMwNTU1MjQiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJoIiB4MT0iMTIxLjkiIHgyPSIxMzYuNiIgeTE9IjQ5LjgiIHkyPSIxMTQuMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2VhNjEwMCIgc3RvcC1vcGFjaXR5PSIuMyIvPjxzdG9wIG9mZnNldD0iLjciIHN0b3AtY29sb3I9IiNlYTYxMDAiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PHJhZGlhbEdyYWRpZW50IGlkPSJhIiBjeD0iOTEuMiIgY3k9IjU1IiByPSI4NC4xIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjM2UyNzIzIiBzdG9wLW9wYWNpdHk9Ii4yIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjM2UyNzIzIiBzdG9wLW9wYWNpdHk9IjAiLz48L3JhZGlhbEdyYWRpZW50PjxyYWRpYWxHcmFkaWVudCBpZD0iaSIgY3g9IjIwLjkiIGN5PSI0Ny41IiByPSI3OCIgeGxpbms6aHJlZj0iI2EiLz48cmFkaWFsR3JhZGllbnQgaWQ9ImoiIGN4PSI5NC44IiBjeT0iOTUuMSIgcj0iODcuOSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzI2MzIzOCIgc3RvcC1vcGFjaXR5PSIuMiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzI2MzIzOCIgc3RvcC1vcGFjaXR5PSIwIi8+PC9yYWRpYWxHcmFkaWVudD48cmFkaWFsR3JhZGllbnQgaWQ9ImsiIGN4PSIzMy4zIiBjeT0iMzEiIHI9IjE3Ni44IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L3JhZGlhbEdyYWRpZW50PjxjbGlwUGF0aCBpZD0iYiI+PGNpcmNsZSBjeD0iOTUiIGN5PSI5NSIgcj0iODgiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNiKSI+PHVzZSBmaWxsPSIjZGI0NDM3IiB4bGluazpocmVmPSIjYyIvPjx1c2UgZmlsbD0idXJsKCNkKSIgeGxpbms6aHJlZj0iI2MiLz48dXNlIGZpbGw9IiMwZjlkNTgiIHhsaW5rOmhyZWY9IiNlIi8+PHVzZSBmaWxsPSJ1cmwoI2YpIiB4bGluazpocmVmPSIjZSIvPjx1c2UgZmlsbD0iI2ZmY2Q0MCIgeGxpbms6aHJlZj0iI2ciLz48dXNlIGZpbGw9InVybCgjaCkiIHhsaW5rOmhyZWY9IiNnIi8+PGcgZmlsbC1vcGFjaXR5PSIuMSI+PHBhdGggZmlsbD0iIzNlMjcyMyIgZD0iTTYxLjMgMTE0LjdMMjEgNDcuNGwzOSA2Ny44eiIvPjxwYXRoIGZpbGw9IiMyNjMyMzgiIGQ9Ik0xMjguOCAxMTYuM2wtLjgtLjQtMzcuMyA2NyAzOC4zLTY3eiIvPjwvZz48cGF0aCBpZD0iZSIgZD0iTTcgMTgzaDgzLjhsMzktMzl2LTI5SDYwLjJMNyAyMy41eiIvPjxwYXRoIGlkPSJnIiBkPSJNOTUgNTVsMzQuNiA2MEw5MSAxODNoOTJWNTV6Ii8+PHBhdGggaWQ9ImMiIGQ9Ik0yMSA3djEwOGgzOS40TDk1IDU1aDg4Vjd6Ii8+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTk1IDU1djIxbDc4LjQtMjF6Ii8+PHBhdGggZmlsbD0idXJsKCNpKSIgZD0iTTIxIDQ3LjVsNTcuMiA1Ny4yTDYwLjQgMTE1eiIvPjxwYXRoIGZpbGw9InVybCgjaikiIGQ9Ik05MC44IDE4M2wyMS03OC4zIDE3LjggMTAuM3oiLz48Y2lyY2xlIGN4PSI5NSIgY3k9Ijk1IiByPSI0MCIgZmlsbD0iI2YxZjFmMSIvPjxjaXJjbGUgY3g9Ijk1IiBjeT0iOTUiIHI9IjMyIiBmaWxsPSIjNDI4NWY0Ii8+PGNpcmNsZSBjeD0iOTUiIGN5PSI5NSIgcj0iODgiIGZpbGw9InVybCgjaykiLz48ZyBmaWxsPSIjM2UyNzIzIiBmaWxsLW9wYWNpdHk9Ii4xIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTI5LjYgMTE1YTQwIDQwIDAgMDEtNjkuMiAwTDcgMjQuNSA2MC40IDExNmE0MCA0MCAwIDAwNjkuMiAweiIvPjxwYXRoIGQ9Ik05NiA1NWgtLjVhNDAgNDAgMCAxMTAgODBoLjVjMjIgMCA0MC0xOCA0MC00MHMtMTgtNDAtNDAtNDB6bS0xIDEyN2E4OCA4OCAwIDAwODgtODcuNXYuNUE4OCA4OCAwIDAxNyA5NXYtLjVBODggODggMCAwMDk1IDE4MnoiLz48ZyBmaWxsLW9wYWNpdHk9Ii4yIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTMwIDExNi4zYTM5LjMgMzkuMyAwIDAwMy40LTMyIDM4IDM4IDAgMDEtMy44IDMwLjdMOTIgMTgzbDM4LjItNjYuNXpNOTUgOGE4OCA4OCAwIDAxODggODcuNVY5NUE4OCA4OCAwIDAwNyA5NXYuNUE4OCA4OCAwIDAxOTUgOHoiLz48cGF0aCBkPSJNOTUgNTRjLTIyIDAtNDAgMTgtNDAgNDB2MWMwLTIyIDE4LTQwIDQwLTQwaDg4di0xeiIvPjwvZz48L2c+PC9nPjwvc3ZnPg=="
            alt="test123">
        <div class="browser-search-bar">
            <input type="text" name="browser-search-query" class="browser-search-query">
        </div>
        <div class="browser-main-content" id="browser-main-content">
        </div>
    </div>

</body>
<script>let browserTabs = [];

    openBrowser();

    function tabId() {
        return Math.floor(Math.random() * 1000);
    }

    function openBrowser() {
        if (browserTabs.length <= 0)
            browserTabs.push({ content: "", pageName: "new tab", tabId: tabId() });
    }

    function closeTab(tabId) {
        console.log(browserTabs);
        let indexOfTab = browserTabs.findIndex((el) => el.tabId === tabId);
        console.log(indexOfTab);
        if (indexOfTab > -1) {
            browserTabs.splice(indexOfTab, 1);
        }

        drawTabs();
    }

    function drawTabs() {
        browserTabs.forEach((tab) => {
            openPage(tab.content, tab.pageName, tab.tabId);
        });
    }

    function openPage(pageContent = "", pageName = "new tab", id = null) {
        console.log("noe");
        let tabIdentifier = id || tabId();
        browserTabs.push({
            content: pageContent,
            pageName: pageName,
            tabId: tabIdentifier,
        });
        $("#browser-open-pages").append(
            `<p class='browser-tab'><span>${pageName}</span><span onclick='closeTab("${tabIdentifier}")'>x</span></p>`
        );
    }
</script